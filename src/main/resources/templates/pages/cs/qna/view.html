<link rel="stylesheet" th:href="@{/css/cs/cs_common.css}">
<link rel="stylesheet" th:href="@{/css/cs/cs_qna.css}">
<link rel="stylesheet" th:href="@{/css/basic.css}">
<header th:replace="layout/main/header.html"></header>
<main style="margin: 0 auto; margin-bottom: 50px; margin-top: 230px;">
    <aside class="cs_aside">
        <h3 class="aside_title">문의하기</h3>
        <ul class="aside_cate">
            <li class="cate_list"><a th:href="@{/cs/faqs(category='user')}" th:classappend="${selectedCate1 == 'user'} ? 'active' : ''">회원</a></li>
            <li class="cate_list"><a th:href="@{/cs/faqs(category='coupon')}" th:classappend="${selectedCate1 == 'coupon'} ? 'active' : ''">쿠폰/이벤트</a></li>
            <li class="cate_list"><a th:href="@{/cs/faqs(category='order')}" th:classappend="${selectedCate1 == 'order'} ? 'active' : ''">주문/결제</a></li>
            <li class="cate_list"><a th:href="@{/cs/faqs(category='delivery')}" th:classappend="${selectedCate1 == 'delivery'} ? 'active' : ''">배송</a></li>
            <li class="cate_list"><a th:href="@{/cs/faqs(category='cancel')}" th:classappend="${selectedCate1 == 'cancel'} ? 'active' : ''">취소/반품/교환</a></li>
            <li class="cate_list"><a th:href="@{/cs/faqs(category='travel')}" th:classappend="${selectedCate1 == 'travel'} ? 'active' : ''">여행/숙박/항공</a></li>
            <li class="cate_list"><a th:href="@{/cs/faqs(category='safe')}" th:classappend="${selectedCate1 == 'safe'} ? 'active' : ''">안전거래</a></li>
        </ul>
    </aside>
    <div id="main" style="height: auto">
        <nav class="cs_nav">
            <p class="cs_nav_tit"><span>홈</span> > <span>문의하기</span></p>
        </nav>
        <div class="box">

            <section class="cs_qna">
                <div class="cate_bar">
                    <h3 class="cate_title q_cate" th:data-value="${selectedCate1}" th:text="${selectedCate1 == 'user' ? '회원' :
                                      selectedCate1 == 'coupon' ? '쿠폰/이벤트' :
                                      selectedCate1 == 'order' ? '주문/결제' :
                                      selectedCate1 == 'delivery' ? '배송' :
                                      selectedCate1 == 'cancel' ? '취소/반품/교환' :
                                      selectedCate1 == 'travel' ? '여행/숙박/항공' :
                                      selectedCate1 == 'safe' ? '안전거래' : '안전거래'}"></h3>
                    <p class="cate_des" th:text="${selectedCate1 == 'user' ? '회원 관련 자주 묻는 질문입니다.' :
                                  selectedCate1 == 'coupon' ? '쿠폰/이벤트 관련 자주 묻는 질문입니다.' :
                                  selectedCate1 == 'order' ? '주문/결제 관련 자주 묻는 질문입니다.' :
                                  selectedCate1 == 'delivery' ? '배송 관련 자주 묻는 질문입니다.' :
                                  selectedCate1 == 'cancel' ? '취소/반품/교환 관련 자주 묻는 질문입니다.' :
                                  selectedCate1 == 'travel' ? '여행/숙박/항공 관련 자주 묻는 질문입니다.' :
                                  selectedCate1 == 'safe' ? '안전거래 관련 자주 묻는 질문입니다.' : '안전거래 자주 묻는 질문입니다.'}">
                    </p>                </div>
                <div class="qna_view">
                    <div class="view_title">
                        <div class="cate_title">
                            <p class="cate" th:text="${qna.cate2.categoryName}">가입</p> <!-- 2차 카테고리명 -->
                            <p class="title" th:text="${qna.title}">가입문의내용</p> <!-- QNA 제목 -->
                        </div>
                        <p><span class="nick" th:text="${qna.memId != null && qna.memId.toString().length() >= 2 ? qna.memId.toString().substring(0, 2) + '**' : 'N/A'}">chh**</span> <span class="date" th:text="${#temporals.format(qna.rdate, 'yyyy-MM-dd')}">2022-11-21</span></p> <!-- 작성자 닉네임과 작성일 -->
                    </div>
                    <div class="view_content">
                        <p th:text="${qna.content}">회원가입하고 싶어요. 어떻게 해야 하나요?</p> <!-- QNA 내용 -->
                    </div>

                    <!-- 답변이 있을 때만 출력 -->
                    <div class="view_answer" th:if="${qna.answer != null && !#strings.isEmpty(qna.answer)}">
                        <div class="cate_title">
                            <img src="/images/finger-icons.png" alt="답변 아이콘">
                            <p class="cate">답변</p>
                            <p class="title" th:text="${qna.title}">가입문의내용</p> <!-- 답변 제목 출력 -->
                        </div>
                        <div class="answer_content">
                            <p th:text="${qna.answer}">안녕하세요. 회원님 회원가입하시면 됩니다.</p> <!-- 답변 내용 출력 -->
                        </div>
                    </div>
                    <!-- 여기까지 답변 출력 조건 추가 -->
                </div>


                <a th:href="@{/cs/qnas}" class="btn_gray btn_list">목록</a>

            </section>
        </div>
    </div>
</main>
<footer th:replace="layout/main/footer.html"></footer>

