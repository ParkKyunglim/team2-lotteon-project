<link rel="stylesheet" th:href="@{/css/company/story.css}">
<link rel="stylesheet" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css}">
<link th:href="@{https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&display=swap}" rel="stylesheet">
<!-- AOS CSS -->
<link rel="stylesheet" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css}">

<header th:replace="layout/company/header.html"></header>

<!-- 컨텐츠 섹션 -->
<main>
    <div class="contentHead" data-aos="fade-down">
        <h1>롯데ON을 더 알고 싶다면!</h1>
        <p>우리의 다양한 이야기를 소개합니다</p>
    </div>
    <!-- Story Navigation (카테고리 네비게이션) -->
    <div class="storyNav" data-aos="fade-up">
        <a th:href="@{/company/story}" th:classappend="${storyCate == '' ? 'navOn' : ''}">전체보기</a>
        <a th:href="@{/company/story(storyCate='culture')}" th:classappend="${storyCate == 'culture' ? 'navOn' : ''}">기업문화</a>
        <a th:href="@{/company/story(storyCate='interview')}" th:classappend="${storyCate == 'interview' ? 'navOn' : ''}">인터뷰</a>
        <a th:href="@{/company/story(storyCate='recruit')}" th:classappend="${storyCate == 'recruit' ? 'navOn' : ''}">채용</a>
        <a th:href="@{/company/story(storyCate='lotteon')}" th:classappend="${storyCate == 'lotteon' ? 'navOn' : ''}">롯데ON</a>
        <a th:href="@{/company/story(storyCate='report')}" th:classappend="${storyCate == 'report' ? 'navOn' : ''}">보도자료</a>
        <a th:href="@{/company/story(storyCate='ESG')}" th:classappend="${storyCate == 'ESG' ? 'navOn' : ''}">ESG</a>
    </div>

    <!-- 카드 그리드 레이아웃 -->
    <div class="card-grid" data-aos="fade-up">
        <!-- 카드 1 -->
        <div class="card">
            <div class="card-badge">인터뷰</div>
            <img th:src="@{/images/companyStoryList/최원준.jpg}" alt="롯데커머스 사람들" class="card-img">
            <div class="card-content">
                <h3>롯데커머스 사람들 시리즈 19</h3>
                <p>8월 M.O.M 대상 최원준 님의 패션MD 이야기 함께 들어보아요😄</p>
            </div>
        </div>

        <!-- 카드 2 -->
        <div class="card">
            <div class="card-badge">기업문화</div>
            <img th:src="@{/images/companyStoryList/말복이벤트.jpg}" alt="말복 이벤트" class="card-img">
            <div class="card-content">
                <h3>말복 이벤트&Floor Meeting</h3>
                <p>8월 말복 이벤트&Floor Meeting 현장을 만나보아요🐥</p>
            </div>
        </div>

        <!-- 카드 3 -->
        <div class="card">
            <div class="card-badge">인터뷰</div>
            <img th:src="@{/images/companyStoryList/e커머스사람들_e18.png}" alt="롯데커머스 사람들 시리즈 18" class="card-img">
            <div class="card-content">
                <h3>롯데커머스 사람들 시리즈 18</h3>
                <p>경진님이 들려주는 딜로킷 이야기부터 G-TFT 이야기까지 함께 들어보아요</p>
            </div>
        </div>

        <!-- 카드 4 -->
        <div class="card">
            <div class="card-badge">보도자료</div>
            <img th:src="@{/images/companyStoryList/롯데온18일-선착순-한정판매-진행하는_갤럭시워치FE-골프패키지-1.jpg}" alt="갤럭시워치" class="card-img">
            <div class="card-content">
                <h3>롯데온, ‘갤럭시워치 FE 골프패키지’ 선착순 한정 판매</h3>
                <p>롯데온이 18일 '갤럭시워치 FE 골프패키지' 출시를 기념해 300명에게만 선착순 판매</p>
            </div>
        </div>

        <!-- 카드 5 -->
        <div class="card">
            <div class="card-badge">인터뷰</div>
            <img th:src="@{/images/companyStoryList/e커머스사람들_e17.png}" alt="갤럭시워치" class="card-img">
            <div class="card-content">
                <h3>롯데e커머스 사람들 시리즈 17</h3>
                <p>트렌드패션팀 영춘님의 고감도 신규브랜드 확대부터 직무 이야기까지! 함께 들어볼까요?👏🏻</p>
            </div>
        </div>

        <!-- 카드 6 -->
        <div class="card">
            <div class="card-badge">보도자료</div>
            <img th:src="@{/images/companyStoryList/첨부사진-롯데온-대명아임레디-론칭-기념-단독-혜택.jpg}" alt="갤럭시워치" class="card-img">
            <div class="card-content">
                <h3>‘대명아임레디’ 라이프 서비스 론칭 기념 단독 혜택! 선착순 한정 판매</h3>
                <p>롯데온이 상품 다변화를 통해 라이프스타일 플랫폼으로 도약에 나선다. 롯데온이 이달</p>
            </div>
        </div>

        <!-- 카드 7 -->
        <div class="card">
            <div class="card-badge">보도자료</div>
            <img th:src="@{/images/companyStoryList/첨부사진-롯데온-릴레이-뷰티-데이즈.png}" alt="갤럭시워치" class="card-img">
            <div class="card-content">
                <h3>‘릴레이 뷰티 데이즈’서 ‘트렌드 뷰티’ 최대 혜택!</h3>
                <p>럭셔리에서 트렌드까지 뷰티 영역 확대 나선 롯데온!</p>
            </div>
        </div>

        <!-- 카드 8 -->
        <div class="card">
            <div class="card-badge">보도자료</div>
            <img th:src="@{/images/companyStoryList/첨부사진-롯데온-복날위크-기획전-1024x702.jpeg}" alt="갤럭시워치" class="card-img">
            <div class="card-content">
                <h3>롯데온 ‘복날위크’서 무더위 날리고 기력 보충하세요!</h3>
                <p>“복날 몸보신은 고기 VS 간편하게 챙기는 건강식품?</p>
            </div>
        </div>

        <!-- 카드 9 -->
        <div class="card">
            <div class="card-badge">보도자료</div>
            <img th:src="@{/images/companyStoryList/첨부사진-롯데온-신규-광고-솔루션-스마트매출업-론칭.jpg}" alt="갤럭시워치" class="card-img">
            <div class="card-content">
                <h3>AI 기반 개인화 추천형 광고 솔루션 ‘스마트매출업’ 론칭!</h3>
                <p>“파트너사 마케팅 돕고, 고객 쇼핑 만족도 높인다!”</p>
            </div>
        </div>
        <!-- 카드 10 -->
        <div class="card">
            <div class="card-badge">기업문화</div>
            <img th:src="@{/images/companyStoryList/캡처-1024x560.jpg}" alt="갤럭시워치" class="card-img">
            <div class="card-content">
                <h3>NEW-START Day!</h3>
                <p>롯데ON이 새로운 공간에서 새롭게 출발합니다🙌🏻</p>
            </div>
        </div>
        <!-- 카드 11 -->
        <div class="card">
            <div class="card-badge">보도자료</div>
            <img th:src="@{/images/companyStoryList/첨부사진-롯데온-쿼터노트-윤곽-메이크업-3종.jpg}" alt="갤럭시워치" class="card-img">
            <div class="card-content">
                <h3>단독 뷰티 브랜드 ‘쿼터노트’로 2030 뷰티 팬(Fan) 잡는다!</h3>
                <p>이색 콘셉트로 SNS 뒤흔든 ‘쿼터노트’!</p>
            </div>
        </div>
        <!-- 카드 12 -->
        <div class="card">
            <div class="card-badge">보도자료</div>
            <img th:src="@{/images/companyStoryList/첨부사진-롯데온-월간-롯데-7월호.jpg}" alt="갤럭시워치" class="card-img">
            <div class="card-content">
                <h3>롯데 계열사 단독 혜택으로 똘똘 뭉친 롯데온 ‘월간 롯데’!</h3>
                <p>여름 휴가 준비는 ‘롯데’가 책임진다!</p>
            </div>
        </div>
        </div>

        <!-- 콘텐츠 더보기 버튼 -->
        <div class="parent-element">
            <div class="elementor-button-wrapper">
                <a href="#" id="loadMore" class="elementor-button-link elementor-button" role="button">
            <span class="elementor-button-content-wrapper">
                <span class="elementor-button-text">콘텐츠 더보기</span>
            </span>
                    <span class="e-load-more-spinner">
                <i aria-hidden="true" class="fas fa-spinner"></i>
            </span>
                </a>
            </div>
        </div>
</main>

<footer th:replace="layout/company/footer.html"></footer>

<!-- AOS JS -->
<script th:src="@{https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js}"></script>
<script>
    // AOS 초기화
    AOS.init({
        duration: 1000, // 애니메이션 지속 시간
        once: true // 한 번만 애니메이션 실행
    });

    // 부드러운 스크롤
    document.querySelectorAll('.nav-link').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            e.preventDefault();

            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
    });

    // 스크롤 위치에 따라 네비게이션 링크 활성화
    window.addEventListener('scroll', () => {
        const sections = document.querySelectorAll('section');
        const navLinks = document.querySelectorAll('.nav-link');

        let currentSection = "";

        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            if (pageYOffset >= sectionTop - 60) {
                currentSection = section.getAttribute('id');
            }
        });

        navLinks.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('href') === `#${currentSection}`) {
                link.classList.add('active');
            }
        });
    });
    let cardsToShow = 6; // 처음에 보여줄 카드 개수
    let totalCards = document.querySelectorAll('.card').length; // 총 카드 개수
    let cardsLoaded = 0; // 현재까지 로드된 카드 수

    // 처음에 6개 카드만 표시하고 나머지 숨김 처리
    document.querySelectorAll('.card').forEach((card, index) => {
        if (index < cardsToShow) {
            card.style.display = 'block';
        } else {
            card.style.display = 'none';
            card.classList.add('hidden');
        }
    });

    // 콘텐츠 더보기 기능
    document.getElementById('loadMore').addEventListener('click', function(e) {
        e.preventDefault();

        // 숨겨진 카드 중 다음 6개만 표시
        const hiddenCards = document.querySelectorAll('.card.hidden');

        for (let i = 0; i < Math.min(hiddenCards.length, cardsToShow); i++) {
            hiddenCards[i].style.display = 'block';
            hiddenCards[i].classList.remove('hidden');
        }

        // 로드된 카드 수를 업데이트
        cardsLoaded += cardsToShow;

        // 모든 카드를 로드한 경우 더보기 버튼을 숨김 처리
        if (cardsLoaded >= totalCards) {
            this.style.display = 'none';
        }
    });
    if (!allCardsVisible) {
        hiddenCards.forEach((card, index) => {
            // 애니메이션 추가: 콘텐츠가 차례로 나타남
            setTimeout(() => {
                card.style.display = 'block';
                card.classList.remove('hidden');
            }, index * 200); // 0.2초 간격으로 표시
        });
    }
</script>